/**
 * xhreq - Uma simples biblioteca de requisição ajax para transmissão e recpção de urlencoded e json usando xhr em vanilla js.
 * @version v0.1.0
 * @link https://github.com/leojaimesson/xhreq#readme
 * @license MIT
 * @author Leo Jaimesson
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define("xhreq",t):"object"==typeof exports?exports=module.exports=t():e.xhreq=t()}(this,function(){"use strict";function e(e){return Array.isArray(e)}function t(e){return"function"==typeof e}function n(e){for(;"&"===e[e.length-1];)e=e.slice(0,e.length-1);return e}function r(o,s){for(var i="",c=0;c<o.length;c++)t(o[c])||(e(o[c])?i+=r(o[c],s+"["+c+"]"):p(o[c])?i+=n(u(s+"["+c+"]",o[c]))+"&":i+=s+"[]="+o[c]+"&");return i}function u(o,s){var i=o.split(",");return Object.keys(s).reduce(function(c,a){return t(s[a])?c:e(s[a])?c+r(s[a],o+"["+a+"]"):p(s[a])?c+n(u(o+"["+a+"]",s[a]))+"&":c+i.reduce(function(e,t){return e.length>0?e+t+"][":e+t+"["},"")+a+"]="+s[a]+"&"},"")}function o(o,s){return e(o)?r(o,s):Object.keys(o).reduce(function(s,i){return t(o[i])?s:e(o[i])?s+r(o[i],i):p(o[i])?s+n(u(i,o[i]))+"&":s+i+"="+o[i]+"&"},"")}function s(e,t){return p(e)?encodeURIComponent(n(o(e,t))).replace(/%3D/gi,"=").replace(/%26/gi,"&"):e}function i(e){return{status:e.status,ok:e.status>=200&&e.status<300,statusText:e.statusText?e.statusText:"OK",headers:e.getAllResponseHeaders(),url:e.url||"",body:e.responseText||""}}function c(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})}function a(e,t){c(t=t||{})||e.setRequestHeader("content-type","application/x-www-form-urlencoded"),Object.keys(t).forEach(function(t,n){e.setRequestHeader(n,t)})}function f(e,t,n,r){return new Promise(function(u,o){var c=new XMLHttpRequest;c.open(e,t,!0),c.withCredentials=!!r.credentials&&r.credentials,a(c,r.headers),c.timeout=r.timeout||0,c.onload=function(){c.status>=200&&c.status<300?u(i(c)):o(i(c))},c.onerror=function(){o(new TypeError("Network request failed."))},c.ontimeout=function(){o(new TypeError("Network request failed."))};try{c.send(s(n))}catch(e){o(new TypeError("Given is invalid, it is necessary to be a string in json format."))}})}function d(e){return{credentials:e.credentials?1:0,baseURL:e.baseURL||"",timeout:e.timeout||0,headers:e.headers||{}}}function l(e){return f(e.method,m.baseURL+e.url,e.data,d(e))}function p(e){return"object"==typeof e&&null!==e}function y(e){m=d(e)}function h(e){return l(e)}var m=d({}),b=["get","put","post","head","delete"];return h.configure=function(e){y(e)},b.forEach(function(e){h[e]=function(t,n){return f(e,m.baseURL+t,n||null,d(m))}}),h});